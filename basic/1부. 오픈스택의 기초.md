# 제1부: 오픈스택의 기초

## 1. 오픈스택 소개

- 오픈스택
  - 대규모의 컴퓨팅, 스토리지, 네트워킹 리소스를 제어하는 클라우드 운영 시스템(클라우드 OS)
  - 모든 관리 및 프로비저닝 작업은 공통 인증 메커니즘을 사용하는 API를 사용
  - 표준 IaaS 기능 + 추가 컴포넌트(오케스트레이션, 장애 및 서비스 관리 등 높은 가용성을 보장하는 기능)

> #### IaaS, PaaS, SaaS
> 
> - IaaS(Infrastructure as a Service): 클라우드 IT의 기본 구성 요소를 포함하여 일반적인 네트워크 기능, 컴퓨터 및 데이터 스토리지 공간을 제공
> - PaaS(Platform as a Service): 애플리케이션 개발, 실행, 유지보수, 관리하는데 필요한 플랫폼을 제공, 기타 서비스 고려 없이 개발만 집중 가능
> - SaaS(Software as a Service): 바로 사용 가능한 소프트웨어 제공

### 1.1 오픈스택의 정의와 중요성

#### 오픈스택이란

- IaaS 솔루션 제공
- 가상화 된 컴퓨트, 스토리지, 네트워킽 리소스를 배포, 관리, 확장할 수 있는 풍부한 기능 세트를 제공
- 사용자에게 유연하고 확장 가능한 클라우드 인프라를 제공하여, IT 리소스의 운영 효율성을 극대화하는 것이 목표

#### 오픈스택의 중요성

- 오픈 소스: 오픈 소스 접근 방식으로 혁신과 기술적 진보 촉진
- 유연성과 확장성: 오픈스택의 모듈식 아키텍처는 사용자 필요에 맞게 클라우드 환경을 맞춤 설정할 수 있게 함.
- 다양한 클라우드 환경 지원: 오픈스택은 프라이빗/퍼블릭/하이브리드 클라우드 환경을 모두 지원

#### 오픈스택의 구성 요소

- Nova: 가상 머신 및 기타 컴퓨팅 리소스의 관리 담당
- Swift: 객체 스토리지 시스템으로, 대규모 데이터 저장 및 관리
- Cinder: 블록 스토리지 서비스로, VM에 영구적인 스토리지 제공
- Neutron: 가상 네트워킹 기능을 제공, 복잡한 네트워크 구성과 관리를 가능하게 한다.
- Keystone: 인증 및 권한 부여를 관리
- Glance: 가상 환경 이미지의 등록, 저장, 검색 및 관리를 담당
- Horizon: 오픈스택의 웹기반 대시보드, 사용자가 클라우드 리소스를 쉽게 관리할 수 있게 함

오픈스택은 위 컴포넌트를 통합하여 강력하고 유연한 클라우드 인프라를 구축할 수 있는 플랫폼을 제공한다.
사용자는 오픈스택을 사용하여 자체 데이터 센터 내에서 프라이빗 클라우드를 구축하거나, 오픈스택 기반의 퍼블릭 클라우드 서비스를 이용할 수 있다.


### 1.2 클라우드 컴퓨팅과의 관계

#### 클라우드 컴퓨팅의 기본

- 인터넷을 통해 컴퓨팅 서비스(서버, 스토리지, 데이터베이스, 네트워킹, 소프트웨어 등)를 온디맨드로 제공하는 기술
- 사용자가 자체 데이터 센터를 구축하고 관리하지 않고 이것을 서비스로 제공하는 것

#### 오픈스택과 클라우드 컴퓨팅

- 클라우드 컴퓨팅 환경을 구축하고 관리하기 위한 오픈 소스 소프트웨어 플랫폼
- 클라우드 컴퓨팅의 핵심 요소인 자원의 가상화, 온디맨드 리소스 할당, 확장성, 멀티테넌시를 지원

#### 오픈스택의 역할

- 가상화
  - 하드웨어 리소스를 가상화하여 다수의 가상 머신이나 컨테이너를 동시에 운영할 수 있게 함
  - 이를 통해 리소스 활용도를 극대화, 다양한 애플리케이션과 서비스를 효율적으로 배포
- 자동화
  - 인프라의 프로비저닝, 구성, 관리 작업을 자동화하여 IT 운영의 복잡성은 낮추고 효율성을 향상
  - 클라우드 리소스를 쉽게 관리/조정할 수 있는 도구와 API를 제공
- 확장성
  - 필요에 따라 클라우드 리소스를 쉽게 확장할 수 있는 기능 제공
  - 비지니스 성장과 변동에서 나오는 요구사항에 신속 대응할 수 있음
- 멀티테넌시
  - 하나의 물리적 인프라 상에서 여러 사용자, 조직이 자신의 가상 인프라를 독립적으로 운영할 수 있는 멀티테넌시 지원
  - 리소스의 효율적인 분배와 보안을 강화할 수 있음

오픈스택은 클라우드 컴퓨팅의 이점은 최대화하면서, 조직이 자체적으로 클라우드 인프라를 구축하고 관리할 수 있는 유연성과 통제력을 제공한다.


### 1.3 오픈스택의 역사와 발전

#### 오픈스택의 탄생

- 2010년, 랙스페이스 호스팅과 나사의 협력 하에 공식적으로 발족함
- 클라우드 컴퓨팅 기술의 발전 가속화와 오픈 소스 소프트웨어를 통해 클라우드 컴푸팅을 더욱 접근 가능하고 혁신적으로 만드는 것이 목표

#### 오픈스택 프로젝트의 목적과 비전

- 개방성: 기술의 발전과 혁신을 민주화하고, 사용자와 개발자가 모두 기여할 수 있는 환경 조성
- 협력: 전 세계의 개발자들과 조직들이 협력하여 클라우드 컴퓨팅 기술을 발전시킬 수 있는 플랫폼 제공
- 혁신: 오픈 소스 모델을 통해, 새로운 아이디어와 기술이 자유롭게 탐색되고 개발될 수 있도록 제공

#### 오픈스택 릴리즈

- 주기적 릴리즈
  - 보통 6개월마다 새로운 버전 출시
  - 주기적인 릴리즈를 통해 기술적 진보를 신속하게 통합하고, 사용자와 개발자에게 예측 가능한 업데이트 스케줄 제공
- 버전 넘버링
  - 연도와 순서를 나타내는 방식
  - "2020.1"은 2020년에 첫 번째로 출시된 릴리즈를 의미
- 릴리즈 후 지원
  - 하휘 버전 업그레이드를 위한 지원을 1년 단위로 제공
  - 이 기간 동안 버그 수정, 보안 업데이트 및 기능 개선 등이 이루어짐

#### 발전 방향

- 컨테이너 오케스트레이션과 쿠버네티스
  - 컨테이너화된 애플리케이션의 배포와 관리를 단순화하는 컨테이너 오케스트레이션 기술을 적극 통합
  - 특히 쿠버네티스와의 연동을 통해, 효율적인 컨테이너 스케줄링, 관리, 확장을 지원
- AI 및 머신러닝 워크로드 최적화
  - 고성능 컴퓨팅(HPC) 환경을 제공함으로써, AI 및 머신러닝 애플리케이션의 개발과 배포를 용이하게 함
  - GPU 가속화, 대규모 데이터셋 관리, 복잡한 연산 작업을 지원하는 오픈스택의 기능 제공
- 멀티 클라우드 및 하이브리드 클라우드 전략
- 지속 가능한 클라우드 인프라

---

## 2. 오픈스택 아키텍처의 이해

- 오픈스택의 아키텍처는 모듈식이며, 각 컴포넌트는 서로 독립적으로 작동하면서 API를 통해 상호 연동됨
  - 이를 통해 필요에 따라 컴포넌트를 추가하거나 제거할 수 있는 유연성 제공 및 다양한 구성 및 확장 옵션을 가능하게 함
- 오픈스택 컴포넌트 간의 통합은 RESTful API를 통해 이루어짐

### 2.1 주요 컴포넌트 개요

#### Nova(컴퓨트 서비스)

- 오픈스택의 컴퓨트 서비스로 가상 머신의 생명 주기를 관리
- 사용자가 가상 머신을 생성, 실행, 중지, 삭제하는 과정을 관리하며, 다양한 하이퍼바이저 기술(KVM, Xen 등)과의 연동을 지원
- 높은 확장성을 제공하여 대규모 클라우드 환경에서의 컴퓨팅 리소스 관리를 용이하게 함

#### Swift(오브젝트 스토리지 서비스)

- 대용량의 비정형 데이터를 저장하기 위한 오픈스택의 오브젝트 스토리지 시스템
- 내구성과 확장성이 뛰어나며, 데이터는 RESTful API를 통해 접근 가능한 객체로 저장
- 고가용성을 보장하기 위해 데이터를 여러 위치에 자동으로 복제하며, 대규모의 데이터 저장 요구사항을 충족

#### Cinder(블록 스토리지 서비스)

- 영구적인 데이터 저장을 위한 블록 스토리지 서비스
- 가상 머신에 사용되는 볼륨 관리를 담당하며, 데이터베이스, 파일 시스템, 애플리케이션에 필요한 지속적인 스토리지 솔루션을 제공
- 다양한 백엔드 스토리지 기술을 지원하며, 스냅샷 및 볼륨 복제와 같은 고급 기능을 제공

#### Neutron(네트워킹 서비스)

- 네트워킹 컴포넌트로, 가상 네트워크 인프라의 구성 및 관리를 담당
- 가상 머신 간의 네트워킹, 외부 네트워크 접근, 네트워크 서비스(로드 밸런싱, 방화벽 등)의 제공을 지원
- 유연한 네트워킹 아키텍처를 통해 복잡한 멀티 테넌트 클라우드 환경에서의 네트워킹 요구사항을 충족시킴

> #### 멀티테넌시 vs 멀티 테넌트
> 
> 1. 멀티테넌시
> - 소프트웨어 아키텍처의 개념
> - 하나의 소프트웨어 인스턴스가 여러 테넌트(고객, 사용자 그룹, 조직 등)를 지원하도록 설계된 방식
> - 각 테넌트는 서로 격리된 데이터와 설정을 가질 수 있지만, 공통된 애플리케이션 인프라와 리소스를 공유
> - 예시) SaaS 플랫폼에서 여러 고객이 동일한 소프트웨어를 사용하지만, 각자의 데이터는 분리
> 
> 2. 멀티 테넌트
> - 소프트웨어나 시스템의 속성을 설명하는 용어
> - 어떤 대상이 멀티테넌시 아키텍처를 사용하고 있다는 의미로 사용
> - 구체적으로 해당 시스템이 여러 테넌트를 지원한다는 점을 강조

#### Keystone(인증 및 권한 부여 서비스)

- 인증 및 권한 부여 서비스로, 사용자와 서비스 간의 인증을 관리
- 사용자 인증, 서비스 카탈로그 관리, 정책 기반의 권한 부여 등을 제공하여 클라우드 인프라 내의 보안을 강화
- 다양한 인증 메커니즘을 지원하며, 클라우드 리소스 접근 제어의 중심 역할 수행

#### Glance(이미지 서비스)

- 가상 머신 이미지의 등록, 저장, 검색 및 관리를 담당하는 이미지 서비스
- 가상 머신을 생성할 때 사용되는 디스크 이미지를 관리하며, 다양한 형식의 이미지를 지원
- 효율적인 이미지 관리를 통해 클라우드 리소스의 배포 및 재사용을 용이하게 함

#### Horizon(웹 기반 대시보드)

- 웹 기반 대시보드로, 사용자가 클라우드 리소스를 시각적인 관리 기능을 제공
- 가상 머신 생성, 네트워킹 구성, 스토리지 관리 등을 직관적 인터페이스를 통해 제공
- 클라우드 환경의 전반적인 모니터링과 관리 지원


### 2.2 아키텍처의 논리적 구조

#### 모듈식 설계

- 오픈스택이 다양한 컴포넌트로 구성되어 있으며, 각 컴포넌트들은 독립적으로 개발되고 관리된다.
- 사용자는 필요에 따라 특정 컴포넌트를 선택하여 설치하고, 자신의 클라우드 환경에 맞게 구성할 수 있다.
- 이를 통해 매우 유연하고 확장 가능한 클라우드 컴퓨팅 플랫폼을 만들 수 있다.


#### 컴포넌트 간 상호 작용

- 컴포넌트들은 RESTful API를 통해 상호 작용한다.
- 이를 통해 사용자가 클라우드 리소스를 프로그래매틱하게 관리할 수 있도록 지원한다.


#### 확장성 및 고가용성

- 분산 아키텍처를 통해 클라우드 리소스를 여러 물리적 노드에 걸쳐 관리할 수 있으며, 이를 통해 시스템의 부하 분산과 장애 복구의 이점을 가지게 한다.
- 컴포넌트의 중복 배치를 통해 단일 실패 지점을 제거하고, 클라우드 인프라의 가용성을 향상시킨다.


#### 인터페이스와 대시보드

- 사용자가 클라우드 리소스를 쉡가 관리할 수 있도록 다양한 인터페이스를 제공
- Horizon을 통해 웹 브라우저를 통해 리소스를 시각적으로 관리할 수 있음
- 또한 CLI, SDK를 통해 고급 사용자와 개발자는 스크립트나 애플리케이션을 사용하여 클라우드 인프라를 자동화하고 관리할 수 있다.


### 2.3 통합과 상호 작용 방식

#### RESTful API를 통한 컴포넌트 상호 작용

- API를 통한 컴포넌트 간의 상호 작용은 표준화되고 효율적인 방식


#### 메시징 큐를 통한 비동기 통신

- RabbitMQ, ZeroMQ 같은 메시징 큐 시스템을 사용하여 비동기 통신 지원
- 컴포넌트 간의 메시지를 전달하는 중간자 역할 수행하여 시스템의 확장성과 복원력을 향상시킴
- 비동기 메시지를 사용하여 다른 컴포넌트의 응답을 기다리지 않고 독립적으로 작업 수행 가능

#### 서비스 카탈로그를 통한 서비스 발견

- Keystone(인증 서비스)은 오픈스택 내 서비스 카탈로그를 관리한다.
  - 서비스 카탈로그는 클라우드 환경 내에서 사용 가능한 모든 서비스와 API 엔드포인트의 목록을 제공한다.
- 그렇기에 사용자나 다른 컴포넌트는 서비스 카탈로그를 통해 필요한 정보를 얻을 수 있다.

#### 플러그인 및 드라이버 아키텍처

- 플러그인 및 드라이버 아키텍처를 사용하여 확장성과 벤더 중립성을 제공

> #### 벤더 중립성
> 
> 다양한 브랜드의 제품이나 데이터를 연동할 수 있고, 어느 곳에나 적용할 수 있는 특징

- 예를 들어, Neutron은 다양한 네트워킹 기술을 지원하기 위해 플러그인 아키텍처를 사용하고, Cinder는 다양한 스토리지 시스템과의 통합을 위해 스토리지 드라이버를 사용한다.

---

## 3. 오픈스택 설치

- 주로 Linux 환경에서 설치 및 운영
- DevStack은 오픈스택의 개발 및 테스트 환경을 쉽게 구축할 수 있도록 설계된 스크립트